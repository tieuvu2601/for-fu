function swapClass(b,a){b.className=a}function isUndefined(b){var a;return b==a}function checkAll(d){for(var b=0;b<d.elements.length;b++){var c=d.elements[b];var a=c.name;if(a!="allbox"&&(c.type.indexOf("checkbox")==0)){c.checked=d.allbox.checked}}}function checkAll(e,b,a){var d=document.getElementById(e).elements[b];if(d!=null){var c=d.length;if(c==undefined){if(!d.disabled){if(a.checked){d.checked=true;d.parentNode.className="checked"}else{d.checked=false;d.parentNode.className=""}}}else{if(c>1){for(i=0;i<c;i++){if(!d[i].disabled){if(a.checked){d[i].checked=true;d[i].parentNode.className="checked"}else{d[i].checked=false;d[i].parentNode.className=""}}}}}}}function checkAllIfOne(g,c,a,f){var e=document.getElementById(g).elements[f];if(!a.checked){e.checked=false;e.parentNode.className=""}else{var b=document.getElementById(g).elements[c];var d=b.length;if(d==undefined){if(b.checked){e.checked=true;e.parentNode.className="checked"}}else{if(d>0){for(i=0;i<d;i++){if(!b[i].checked){return false}}e.checked=true;e.parentNode.className="checked"}}}}function checkSelected4ConfirmDelete(d,a){var a=document.getElementById(d).elements[a];var b=undefined;if(a!=null){b=a.length}var c=false;if(b==undefined&&a!=null){if(a.checked){return true}}else{for(i=0;i<b;i++){if(a[i].checked){return true}}}return false}function checkSelected(d,a){var a=document.getElementById(d).elements[a];var b=undefined;if(a!=null){b=a.length}var c=false;if(b==undefined&&a!=null){if(a.checked){return true}}else{for(i=0;i<b;i++){if(a[i].checked){return true}}}return false}function clearForm(d){for(var c=0;c<d.length;c++){var b=d.elements[c];if(b.type.indexOf("text")==0||b.type.indexOf("password")==0){b.value=""}else{if(b.type.indexOf("radio")==0){b.checked=false}else{if(b.type.indexOf("checkbox")==0){b.checked=false}else{if(b.type.indexOf("select")==0){for(var a=0;a<b.length;a++){b.options[a].selected=false}b.options[0].selected=true}}}}}}function getFormAsString(e){var d="";for(var c=0;c<e.length;c++){var b=e.elements[c];if(b.type.indexOf("checkbox")==0||b.type.indexOf("radio")==0){if(b.checked){d+=b.name+"="+escape(b.value)+"&"}}else{if(b.type.indexOf("select")==0){for(var a=0;a<b.length;a++){if(b.options[a].selected){d+=b.name+"="+escape(b.value)+"&"}}}else{d+=b.name+"="+escape(b.value)+"&"}}}return d}function toggleForm(b,c){for(var a=0;a<b.length;a++){if(b.elements[a].type.indexOf("select")==0||b.elements[a].type.indexOf("checkbox")==0){b.elements[a].style.visibility=c?"visible":"hidden"}}}function opt(a,c,b){this.txt=a;this.val=c;this.sel=b}function move(c,d){var b=c.options.length;index=c.selectedIndex;if(index==-1){return false}if(d==+1&&index==b-1){return false}if(d==-1&&index==0){return false}d=index+d;var a=new Array();for(i=0;i<b;i++){a[i]=new opt(c.options[i].text,c.options[i].value,c.options[i].selected)}tempOpt=a[d];a[d]=a[index];a[index]=tempOpt;c.options.length=0;for(i=0;i<a.length;i++){c.options[i]=new Option(a[i].txt,a[i].val);c.options[i].selected=a[i].sel}c.focus()}function selectAll(a){var b=document.getElementById(a);len=b.length;if(len!=0){for(i=0;i<len;i++){b.options[i].selected=true}}}function toggleChoice(a){var b=document.getElementById(a);if(b.checked){b.checked=false}else{b.checked=true}}function toggleRadio(a,b){var c=document.getElementsByName(a)[b];c.checked=true}function openWindow(a,b,c){winName=window.open(a,b,c);winName.focus()}function openSearch(a,b){var c=parseInt(screen.availWidth);var e=parseInt(screen.availHeight);var d="width="+c+",height="+e;d+=",left=0,top=0,toolbar,scrollbars,resizable,status=yes";openWindow(a,b,d)}function setCookie(b,d,a,f,c,e){document.cookie=b+"="+escape(d)+((a)?"; expires="+a.toGMTString():"")+((f)?"; path="+f:"")+((c)?"; domain="+c:"")+((e)?"; secure":"")}function getCookie(b){var d=b+"=";var e=document.cookie.indexOf(d);if(e==-1){return null}var a=document.cookie.indexOf(";",e+d.length);if(a==-1){a=document.cookie.length}var c=document.cookie.substring(e+d.length,a);return unescape(c)}function deleteCookie(a,c,b){if(getCookie(a)){document.cookie=a+"="+((c)?"; path="+c:"")+((b)?"; domain="+b:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}}String.prototype.trim=function(){return this.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1")};function validateRequired(e){var d=true;var c=null;var b=0;var a=new Array();oRequired=new required();for(x in oRequired){if((e[oRequired[x][0]].type=="text"||e[oRequired[x][0]].type=="textarea"||e[oRequired[x][0]].type=="select-one"||e[oRequired[x][0]].type=="radio"||e[oRequired[x][0]].type=="password")&&e[oRequired[x][0]].value==""){if(b==0){c=e[oRequired[x][0]]}a[b++]=oRequired[x][1];d=false}}if(a.length>0){c.focus();alert(a.join("\n"))}return d}function isValidEmail(a){regx=/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/;return regx.test(a)}function isValidNumber(a){regx=/^-?(0|[1-9]\d*|(?=\.))(\.\d+)?$/;return regx.test(a)}function createFormElement(b,d,a,h,f,c){var g=document.createElement(b);g.setAttribute("name",a);g.setAttribute("type",d);g.setAttribute("id",h);g.setAttribute("value",f);c.appendChild(g)}function confirmDelete(a){var b="Are you sure you want to delete this "+a+"?";ans=confirm(b);if(ans){return true}else{return false}}function highlightTableRows(e){var a=null;var d=document.getElementById(e);var b=0;if(!d.getElementsByTagName("thead")[0]){b=1}var c=d.getElementsByTagName("tbody")[0];var f=c.getElementsByTagName("tr");for(i=b;i<f.length;i++){f[i].onmouseover=function(){a=this.className;this.className+=" over"};f[i].onmouseout=function(){this.className=a}}}function highlightFormElements(){addFocusHandlers(document.getElementsByTagName("input"));addFocusHandlers(document.getElementsByTagName("textarea"))}function setCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function getCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function deleteCookie(a){setCookie(a,"",-1)}function addFocusHandlers(a){for(i=0;i<a.length;i++){if(a[i].type!="button"&&a[i].type!="submit"&&a[i].type!="reset"&&a[i].type!="checkbox"&&a[i].type!="radio"){if(!a[i].getAttribute("readonly")&&!a[i].getAttribute("disabled")){a[i].onfocus=function(){this.style.backgroundColor="#ffd";this.select()};a[i].onmouseover=function(){this.style.backgroundColor="#ffd"};a[i].onblur=function(){this.style.backgroundColor=""};a[i].onmouseout=function(){this.style.backgroundColor=""}}}}}function radio(a){var b=a.form;var c=b.elements[a.name];if(!a.checked||!c.length){a.parentNode.parentNode.className="";return false}for(i=0;i<c.length;i++){if(c[i]!=a){c[i].checked=false;c[i].parentNode.parentNode.className=""}}a.parentNode.parentNode.className="over"}window.onload=function(){};window.defaultStatus=document.title;function trimAndSubmitForm(a){$(a).find("input:text").each(function(){var b=$(this).val();$(this).val($.trim(b))});$(a).validate({errorPlacement:function(b,c){},invalidHandler:function(c,b){bootbox.alert("Warning",b.errorList[0].message)}});$(a).submit()}function validateDateFormat(a,b){if(!isDate($("#"+a).val(),a)){bootbox.alert("Error",b+": Invalid date format");return false}return true}function validateFromToDate(b,a){if($("#"+b).val()!=""&&!validateDateFormat(b,"From Date")){$("#"+b).focus();return false}if($("#"+a).val()!=""&&!validateDateFormat(a,"To Date")){$("#"+a).focus();return false}if($("#"+b).val()!=""&&$("#"+a).val()!=""&&!compareDate($("#"+b).val(),$("#"+a).val())){$("#"+b).focus();return false}return true}$(document).ready(function(){try{$("#expanAll").click(function(){$(".resource-detail").slideDown(300);$(".btn-show-hide i").removeClass("icon-plus");$(".btn-show-hide i").each(function(){if(!$(this).hasClass("icon-minus")){$(this).addClass("icon-minus")}})});$("#collapseAll").click(function(){$(".resource-detail").slideUp(300);$(".btn-show-hide i").removeClass("icon-minus");$(".btn-show-hide i").each(function(){if(!$(this).hasClass("icon-plus")){$(this).addClass("icon-plus")}})});try{$(".myCorner").corner()}catch(b){}$(".pagelinks .gotoPage").keydown(function(c){if(c.keyCode==46||c.keyCode==8||c.keyCode==9||c.keyCode==27||c.keyCode==13||(c.keyCode==65&&c.ctrlKey===true)||(c.keyCode>=35&&c.keyCode<=39)){return}else{if(c.shiftKey||(c.keyCode<48||c.keyCode>57)&&(c.keyCode<96||c.keyCode>105)){c.preventDefault()}}});$(".pagelinks .gotoPage").keypress(function(g){if(g.which==13){var d=new BigInteger($(this).attr("id").replace(/,/g,""));var f=new BigInteger($(this).val().replace(/,/g,""));if(d<f||f<1){return false}var c=null;if($("#nextPage").length>0){c="nextPage"}else{c="previousPage"}if(c!=null){var h=$("#"+c).attr("href");newLink=h.replace(/-p=[0-9]{1,10}/g,"-p="+$(this).val());location.href=newLink;return false}}})}catch(b){}try{jQuery.validator.addClassRules("required",{required:true});jQuery.validator.addClassRules("required-email",{required:true,email:true});jQuery.validator.addClassRules("no-special-character",{notSpecialCharacter:true});jQuery.validator.addMethod("notSpecialCharacter",function(d,c){var e=/^[0-9a-zA-Z_-]+$/;return e.test(d)},"Value contains illegal characters.");$("form").each(function(){if($(this).attr("novalidate")!=null&&$(this).attr("novalidate")!=undefined){$(this).validate({errorClass:"error-inline-validate",errorElement:"span",ignore:"optgroup",highlight:function(e,c,d){if($(e).hasClass("required")||$(e).hasClass("required-email")){$(e).closest(".control-group").removeClass("success").addClass("error")}},unhighlight:function(e,c,d){if($(e).hasClass("required")||$(e).hasClass("required-email")){$(e).closest(".control-group").removeClass("error").addClass("success")}},success:function(c){var d=c.attr("for");if($("[id='"+d+"']").hasClass("required")||$("[id='"+d+"']").hasClass("required-email")){c.text("OK!").addClass("valid").closest(".control-group").removeClass("error").addClass("success")}else{c.remove()}}})}})}catch(a){}$("#btnShowHide").click(function(){if($(this).html()=="Show"){$(this).html("Hide");var c=$("#pwd").val();$("#pwd").remove();$("<input type='text' class='required' name='pojo.password' id='pwd'>").val(c).attr("style","width:160px").insertBefore("#btnShowHide")}else{$(this).html("Show");var c=$("#pwd").val();$("#pwd").remove();$("<input type='password' class='required' name='pojo.password' id='pwd'>").val(c).attr("style","width:160px").insertBefore("#btnShowHide")}})});function searchSchool(e,d,c,b){try{$(e).select2({minimumInputLength:3,allowClear:true,ajax:{url:b,dataType:"json",quietMillis:100,data:function(f,g){return{schoolName:f,page_limit:10,page:g,_:new Date().getTime()}},results:function(h,g){$("select").select2();if(h!=null){var f=(g*10)<h.total;return{results:h.schools,more:f}}}},dropdownCssClass:"bigdrop"});if($(d).val()!=""&&$(c).val()!=""){$(e).select2("data",{id:$(d).val(),text:$(c).val()})}$(e).change(function(){if($(e).select2("data")!=null){$(d).val($(e).select2("data").id);$(c).val($(e).select2("data").text)}else{$(d).val("");$(c).val("")}})}catch(a){}}$(document).on("touchstart",function(c){if($(".datepicker").is(":visible")){var b=c.target.className;if(b!=null&&b!=undefined){b=b.trim().toLowerCase();var a=$("."+b).closest("div");if(a!=null&&a!=undefined){if(a.attr("class").trim().toLowerCase().indexOf("datepicker")<0){$(".datepicker").hide()}}}}});function toggleTRs(c,b,a){if($("#"+b).attr("src")==a+"open_ico.png"){$("#"+b).attr("src",a+"close_ico.png");$("."+c).each(function(){if(!$(this).hasClass("hidden")){$(this).addClass("hidden")}})}else{$("#"+b).attr("src",a+"open_ico.png");$("."+c).each(function(){if($(this).hasClass("hidden")){$(this).removeClass("hidden")}})}}function collapseAllLevels(b,a){if($("#"+a).attr("src")!=undefined){$("#"+a).attr("src",$("#"+a).attr("src").replace("open_ico.png","close_ico.png"))}$("."+b).each(function(){var c=$(this).find("td:first").find("a").find("img");if(c.attr("id")!=undefined){$("#"+c.attr("id")).attr("src",$("#"+c.attr("id")).attr("src").replace("open_ico.png","close_ico.png"))}if(!$(this).hasClass("hidden")){$(this).addClass("hidden")}})}function toggleTRs3Levels(e,b,h,d){var f=/open_ico.png/;if(f.test($("#"+b).attr("src"))){$("#"+b).attr("src",$("#"+b).attr("src").replace("open_ico.png","close_ico.png"));$("."+e).each(function(){if(!$(this).hasClass("hidden")){$(this).addClass("hidden")}})}else{var g=false;var a=false;var c=false;$("#"+b).attr("src",$("#"+b).attr("src").replace("close_ico.png","open_ico.png"));$("."+e).each(function(){var n=$(this).attr("class");var l=n.match(h);var j=n.match(d);var m=1;if(l==null&&j==null){c=false}else{if(l!=null&&j==null){m=2;c=true}else{if(l!=null&&j!=null){m=3}}}if(m==1){var k=$(this).find("td:first").find("a").find("img");if(k.attr("id")!=undefined){if(f.test($("#"+k.attr("id")).attr("src"))){g=true}else{g=false}}else{g=false}if($(this).hasClass("hidden")){$(this).removeClass("hidden")}}else{if(m==2){var k=$(this).find("td:first").find("a").find("img");if(k.attr("id")!=undefined){if(f.test($("#"+k.attr("id")).attr("src"))){a=true}else{a=false}}else{a=false}if(g&&$(this).hasClass("hidden")){$(this).removeClass("hidden")}}else{if(m==3){if(((g&&c&&a)||(g&&!c))&&$(this).hasClass("hidden")){$(this).removeClass("hidden")}}}}})}}function toggleTRs2Levels(b,a,e){var c=/open_ico.png/;if(c.test($("#"+a).attr("src"))){$("#"+a).attr("src",$("#"+a).attr("src").replace("open_ico.png","close_ico.png"));$("."+b).each(function(){if(!$(this).hasClass("hidden")){$(this).addClass("hidden")}})}else{var d=false;$("#"+a).attr("src",$("#"+a).attr("src").replace("close_ico.png","open_ico.png"));$("."+b).each(function(){var j=$(this).attr("class");var f=j.match(e);var g=false;if(f==null){g=true}if(g){var h=$(this).find("td:first").find("a").find("img");if(h.attr("id")!=undefined){if(c.test($("#"+h.attr("id")).attr("src"))){d=true}else{d=false}}else{d=false}if($(this).hasClass("hidden")){$(this).removeClass("hidden")}}else{if(d&&$(this).hasClass("hidden")){$(this).removeClass("hidden")}}})}}function refreshCaptcha(){document.getElementById("captchaCodeImg").src="jcaptcha?dc="+new Date().getTime()}function toggleSidebar(){if($("#sidebar").hasClass("show")){$("#sidebar").removeClass("show");$(".sidebar_body").hide()}else{$("#sidebar").addClass("show");$(".sidebar_body").show()}}function toggleSidebarTeacherList(){if($("#sidebar").hasClass("show")){$("#sidebar").removeClass("show");$(".sidebar_body").hide()}else{$("#sidebar").addClass("show");$("#sidebar").addClass("sidebarTeacher");$(".sidebar_body").show()}}function showHide(b){var a=$(".resource-detail-"+b).is(":visible");if(a){$(".resource-detail-"+b).slideUp(300)}else{$(".resource-detail-"+b).slideDown(300)}if($("#btn-show-hide-"+b+" i").hasClass("icon-plus")){$("#btn-show-hide-"+b+" i").removeClass("icon-plus");$("#btn-show-hide-"+b+" i").addClass("icon-minus")}else{$("#btn-show-hide-"+b+" i").removeClass("icon-minus");$("#btn-show-hide-"+b+" i").addClass("icon-plus")}}function parseDate(a){var b=a.split("/");return new Date(b[2],b[0]-1,b[1])}function compareDate(b,a){if(parseDate(b)>parseDate(a)){alert("From Date is greater than To Date","Error");return false}return true}function getBrowser(){var a={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var b=0;b<e.length;b++){var c=e[b].string;var d=e[b].prop;this.versionSearchString=e[b].versionSearch||e[b].identity;if(c){if(c.indexOf(e[b].subString)!=-1){return e[b].identity}}else{if(d){return e[b].identity}}}},searchVersion:function(c){var b=c.indexOf(this.versionSearchString);if(b==-1){return}return parseFloat(c.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};a.init();return a}function containHtml(a){return(a.match(/<(|\/)(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/))==null}function doPrint(b,a){$("#crudaction").val("print");if(b==0){bootbox.alert("Warning","Zero record found.")}else{if($.browser.msie){newwindow=window.open(a,"_blank")}else{$("iframe").attr("src",a);$("iframe").load(function(){var c=document.getElementById("viewer");c.contentWindow.window.focus();c.contentWindow.window.print()})}}$("#crudaction").val("search")}function doExport(a,b){$("#crudaction").val("export");if(b==0){bootbox.alert("Warning","Zero record found.")}else{$("#"+a).submit()}$("#crudaction").val("search")}function checkEnableLinkSubmit(a,b){if(a.val()!=""){b.css("display","block");b.removeAttr("disabled");b.css("cursor","pointer")}else{b.css("display","none");b.attr("disabled","disabled");b.css("cursor","default")}}function checkSubmit(b,a){if(b.attr("disabled")===undefined){a.submit()}}function addPlaceHolder(a){if($.browser.msie){a.val(a.attr("placeholder"));a.focus(function(){if($(this).val()==$(this).attr("placeholder")){$(this).val("");$(this).removeClass("placeholder")}}).blur(function(){if($(this).val()==""||$(this).val()==$(this).attr("placeholder")){$(this).addClass("placeholder");$(this).val($(this).attr("placeholder"))}})}}function selectFirstItemSelect2(a){if($.browser.msie){$(a).select2().select2("val","-1")}else{$(a).select2().select2("val",$(".select2 option:eq(1)").val())}}function insertGroupOptionsToSelect(h,e,g,a){var c=-1;var d=0;var m=new Array();var n=h.substr(1,h.length);var l=document.getElementById(n).options;l.length=1;var b=-1;for(i=0;i<e.array.length;i++){var o=e.array[i];if(o.classGroupId==null&&b!=-2){c=d;d++;m[c]=document.createElement("optgroup");m[c].setAttribute("label",g);b=-2}else{if(o.classGroupId!=b&&o.classGroupId!=null){c=d;d++;m[c]=document.createElement("optgroup");m[c].setAttribute("label","Group "+o.classGroupName);b=o.classGroupId}}var f=document.createElement("option");m[c].appendChild(new Option(o.firstLastName,o.userId))}$.each(m,function(j,k){document.getElementById(n).appendChild(k)});$(h).select2()}$(document).ready(function(){$(document).bind("contextmenu",function(a){return false})});function studentAccessCodeVerifyFromMenu(a,b){$("#registrationModalFromMenu #productId").val(a);$("#registrationModalFromMenu #productUrl").val(b);$("#registrationModalFromMenu").modal({backdrop:"static",keyboard:false})}function verifyFromMenu(){$("#registrationModalFromMenu #errorMessage").hide();$("#registrationModalFromMenu #accessCodeForm").ajaxSubmit({dataType:"json",success:function(a){if(a.errorMessage!=""){$("#registrationModalFromMenu #errorMessage").show();$("#registrationModalFromMenu #errorMessage").html(a.errorMessage)}else{if(a.success){document.location=$("#registrationModalFromMenu #productUrl").val()}else{alert(a.error)}}}})}function contextSearch(b){var a=$(b).closest("form").find("input[name=searchTerm]");trimText(a);$(b).closest("form").submit()}$(document).ready(function(){$("input[name=searchTerm]").placeholder();if($("input[name=searchTerm]").val()==""){addPlaceHolder($("input[name=searchTerm]"))}$("#contextSearchForm").submit(function(){var a=$("#contextSearchForm input[name=searchTerm]");trimText(a);return true});$("#contextSearchForm").validate({rules:{searchTerm:{nohtml:true}},errorPlacement:function(a,b){},invalidHandler:function(b,a){bootbox.alert("Warning",a.errorList[0].message)}})});function trimText(a){if(a.val()==a.attr("placeholder")){a.val("")}a.val($.trim(a.val()))};